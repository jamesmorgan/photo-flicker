
<div class="row" ng-init="init()">

    <!-- Padding column Left --> 
    <div class="col-xs-5 col-sm-5 col-md-3">
       
        <div ng-controller="NavMenuCtrl">
            <!-- <br /><pre>{{data.categories | json}}</pre> -->

            <h2><small>Make a Selection</small></h2>
            <hr />

            <h4>Lookup <span class="badge pull-right"><abbr title="Results">{{data.lookup_results.leng || "0"}}</abbr></span></h4>
            
            <pre>Model: {{asyncSelected | json}}</pre>

            <input class="form-control" type="text" 
                  placeholder="Start typing to search...." 
                  ng-model="asyncSelected"
                  typeahead="photo for photo in lookupPhotos($viewValue) | filter:$viewValue" >
            <hr />
            
            <h4>Category <span class="badge pull-right"><abbr title="Results">{{data.categories.children.length || "0"}}</abbr></span></h4>
            <select ng-model="data.selectedCategory"
                    class="form-control input-lg" 
                    ng-disabled="data.categories.children.length == 0"
                    ng-change="clearSubCategory()">
                <option ng-repeat="c in data.categories.children" value="{{$index}}">
                    {{c.pretty_name}}
                </option>
            </select>
 
            <h5>Sub Category <span class="badge pull-right"><abbr title="Results">{{data.categories.children[data.selectedCategory].children.length || "0"}}</abbr></span></h5>
            <select ng-model="data.selectedSubCategory"
                    class="form-control"
                    ng-disabled="data.selectedCategory == -1">
                <option ng-repeat="c in data.categories.children[data.selectedCategory].children" value="{{$index}}">
                    {{c.pretty_name}}
                </option>
            </select>

            <br />

            <button class="btn btn-sm btn-info btn-block" type="button" ng-click="init()">
                 <span class="glyphicon glyphicon-refresh"></span> Refresh Categories
            </button>
            
            <hr />

            <span ng-model="screenService.inFullScreen"></span>

            <button class="btn btn-sm btn-info btn-block" type="button" 
                    ng-click="goFullScreen()" 
                    ng-show="screenService.inFullScreen == false">
                <span class="glyphicon glyphicon-fullscreen"></span> Full Screen
            </button>

            <button class="btn btn-sm btn-info btn-block" type="button" 
                    ng-click="exitFullScreen()" 
                    ng-show="screenService.inFullScreen == true">
                <span class="glyphicon glyphicon-resize-small"></span> Exit Full Screen
            </button>

            <hr />

<!--             <br /><pre>{{data.selectedCategory | json}}</pre>
            <br /><pre>{{data.selectedSubCategory | json}}</pre>
 -->
        </div>

    </div>

    <!-- START : Main Column --> 
    <div class="col-xs-7 col-sm-7 col-md-9">

            <div class="panel panel-default">

                <div class="panel-heading">
                    <h3>
                      <span class="label label-primary" ng-bind="data.selectedCategoryName"></span> 
                      <small class="label label-success" ng-bind="data.selectedSubCategoryName"></small>
                    </h3>
                </div>
                
                <div class="panel-body min-carousel-body">

                    <div class="carousel-container"
                        ng-show="shouldShowCarousel()"                
                        rn-carousel-infinite 
                        rn-carousel-buffered
                        rn-carousel-watch
                        rn-carousel-indicator
                        rn-carousel-next="next(image, carouselCollection.index)" 
                        rn-carousel-prev="prev(image, carouselCollection.index)" 
                        ng-click="fullScreenPicture()"
                        rn-carousel-current="image"> 

                        <img ng-src="{{'http://localhost:8000/' + image.short_path}}" 
                                style="margin:auto;" 
                                class="img-responsive img-thumbnail">

                        <div class="carousel-caption">
                            <!-- Show debug info about carousel and image -->
                            <div ng-show="debugCarousel">
                                <h5 ng-bind="'index: ' + carouselCollection.index"></h5>
                                <h5 ng-bind="'position: ' + carouselCollection.position"></h5>
                                <h5 ng-bind="'#items: ' + carouselCollection.items.length"></h5>
                                <h5 ng-bind="'#DOM items: ' + carouselCollection.cards.length"></h5>
                                <pre>{{ image | json}}</pre>
                            </div>
                            <h3>{{image.pretty_name_without_extension}}</h3>
                        </div>
                        
                    </div>

                    <ul class="pager" ng-show="shouldShowCarousel()">
                        <li class="previous"
                            ng-class="{disabled: disabledPreviousCarousel()}">
                            <a ng-click="previousImage()">&larr; Previous</a>
                        </li>
                        <li class="next disabled"
                            ng-class="{disabled: disabledNextCarousel()}">
                            <a ng-click="nextImage()">Next &rarr;</a>
                        </li>
                    </ul>
                </div>


           </div>

        </div>

    </div>
    <!-- END : Main Column --> 

    <!-- Padding column Right --> 
    <div class="col-xs-2 col-sm-2 col-md-1">
        
    </div>
</div>
